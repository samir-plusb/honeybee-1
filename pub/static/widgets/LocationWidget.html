<div style="height: 1px; margin-bottom: 0; position: relative;">
    <button style="position: absolute; right: 10px; top: -60px;" class="btn btn-primary"
            data-bind="click: localize, visible: !is_processing(), disable: options.readonly">Verorten</button>
    <img src="static/deploy/_global/binaries/loading-small.gif" title="Adressdaten werden lokalisiert"
         data-bind="visible: is_processing" style="position: absolute; top: -57px; right: 35px;" />
</div>

 <div style="float: left; width: 100%; height: 200px; position: relative; margin-bottom: 20px;">
    <div class="map-canvas" style="height: 100%; position: absolute; left: 0; top: 0px; right: 0;"></div>
</div>

<div class="control-group">
    <label class="control-label">Name</label>
    <div class="controls">
        <input type="text" class="span11"
            data-bind="value: location.name, attr: { name: fieldname() + '[name]' }, disable: options.readonly" />
    </div>
</div>
<div class="control-group">
    <label class="control-label">Zus&auml;tzliche Bezeichnung</label>
    <div class="controls">
        <input type="text" class="span11"
            data-bind="value: location.name_detail, attr: { name: fieldname() + '[name_detail]' }, disable: options.readonly" />
    </div>
</div>
<div class="control-group">
    <label class="control-label">Straße, Hnr.</label>
    <div class="controls">
        <input type="text" class="span8"
            data-bind="value: location.street, attr: { name: fieldname() + '[street]' }, disable: options.readonly" />
        <input type="text" class="span3"
            data-bind="value: location.housenumber, attr: { name: fieldname() + '[housenumber]' }, disable: options.readonly" />
    </div>
</div>
<div class="control-group">
    <label class="control-label">PLZ</label>
    <div class="controls">
        <input type="text" class="span11"
            data-bind="value: location.zipcode, attr: { name: fieldname() + '[zipcode]' }, disable: options.readonly" />
    </div>
</div>
<div class="control-group">
    <label class="control-label">Stadt</label>
    <div class="controls">
        <input type="text" class="span11"
            data-bind="value: location.city, attr: { name: fieldname() + '[city]' }, disable: options.readonly" />
    </div>
</div>
<div class="control-group">
    <label class="control-label">Beschreibung</label>
    <div class="controls">
        <textarea type="text" class="span11"
            data-bind="text: location.description, attr: { name: fieldname() + '[description]' }, disable: options.readonly" />
    </div>
</div>
<input type="hidden" data-bind="value: location.lon, attr: { name: fieldname() + '[lon]' }, disable: options.readonly" />
<input type="hidden" data-bind="value: location.lat, attr: { name: fieldname() + '[lat]' }, disable: options.readonly" />

<div class="modal dialog-select-location" style="display:none">
    <div class="modal-header">
        <a href="#" class="close" data-dismiss="modal">×</a>
        <h3>Ortsauswahl</h3>
    </div>
    <div class="modal-body">
        <ul class="nav nav-pills nav-stacked" data-bind="foreach: found_locations">
            <li>
                <a href="#" data-bind="click: function(data) { $parent.onLocationSelected(data); }"><span data-bind="text: $data.street"> </span>
                <span data-bind="text: $data.housenumber()"></span>
                <span data-bind="text: $data.zipcode()">, </span>
                <span data-bind="text: $data.neighborhood"></span></a>
            </li>
        </ul>
    </div>
    <div class="modal-footer"></div>
</div>
