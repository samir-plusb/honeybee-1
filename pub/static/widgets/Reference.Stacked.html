<div class="tagslist-input-wrapper">
  <input type="hidden" value="" data-bind="attr: { name: fieldname() + '[]' }" />
  <input type="text" placeholder="Verknüpfen" data-bind="disable: options.readonly,
      css: { 'tagslist-input': true, 'span12': options.readonly }, attr: { 'id': options.field_id }" />
  <a href="#open_reference_browser" class="refbrowser-open tagslist-list-view" data-bind="click: function() { $data.launchReferenceBrowser(); }, visible: ! options.readonly" tabindex="-1">
    <span class="hb-icon-new-window" />
  </a>
</div>
<ul class="tagslist-value-list" style="display: none;" data-bind="foreach: tags">
  <li class="tagslist-value">
      <input type="hidden"
             data-bind="attr: { name: $parent.fieldname() + '[' + $parent.tags.indexOf($data) + '][id]' },
                        value: $data.id" />
      <input type="hidden"
             data-bind="attr: { name: $parent.fieldname() + '[' + $parent.tags.indexOf($data) + '][module]' },
                        value: $data.module_prefix" />
  </li>
</ul>
<div class="pill-container">
  <ul data-bind="sortable: tags, foreach: tags" class="tagslist-list nav nav-pills nav-stacked">
      <li class="tagslist-tag" data-bind="css: $data._state">
          <a href="#" onclick="return false;" tabindex="-1">
              <span data-bind="text: $data.label" /> <i data-bind="click: function(data) { $parent.removeTag(data); }, visible: ! $parent.options.readonly" class="hb-icon-cancel"></i>
          </a>
      </li>
  </ul>
</div>

<div class="modal modal-reference-list" style="display: none">
    <div class="modal-header">
        <div class="title-box">
          <a class="close close-dialog hb-icon-cancel"></a>
          <h3>Verknüpfungsbrowser</h3>
        </div>
        <ul class="nav nav-tabs referenced-modules-tabs" data-bind="foreach: referenced_modules">
          <li data-bind="css: { 'active': true === $data.active() }">
            <a href="#" data-bind="text: module_label, click: function(data, event) { $parent.loadReferenceList(data, event); }"></a>
          </li>
        </ul>
    </div>
    <div class="modal-body">
        <iframe class="reference-list-access"></iframe>
    </div>
</div>

<div class="modal modal-reference-loading" style="display: none">
    <div class="modal-header">
        <a class="close close-dialog hb-icon-cancel"></a>
        <h3>Verknüpfungsbrowser wird geladen ...</h3>
    </div>
    <div class="modal-body">
      <div class="progress progress-striped active">
        <div class="bar" style="width: 100%;"></div>
      </div>
    </div>
</div>
