<?xml version="1.0" encoding="UTF-8"?>
<ae:configurations
    xmlns="http://berlinonline.de/schemas/midas/config/scripts/1.0"
    xmlns:ae="http://agavi.org/agavi/config/global/envelope/1.1"
    xmlns:xi="http://www.w3.org/2001/XInclude">
    <ae:configuration>

        <packages>
            <!--
                Will probally be deprecated in favor for twitter-bootstrap.
            -->
            <package name="jquery-ui">
                <javascripts>
                    <script>js/libs/jquery-1.6.4.js</script>
                    <script>js/libs/jquery-ui-1.8.13.js</script>
                    <script>js/libs/jquery-easing-1.3.js</script>
                    <script>js/libs/jquery-caretrange.js</script>
                    <script>js/libs/jquery-contextmenu-1.3.js</script>
                    <script>js/libs/jquery-taghandler.js</script>
                    <script>js/libs/ICanHaz.js</script>
                </javascripts>
                <stylesheets>
                    <script>css/jquery-ui.1.8.13.custom.css</script>
                    <script>css/jquery-taghandler.css</script>
                </stylesheets>
            </package>

            <!--
                This package defines our gui foundation and is included to all deployments.
            -->
            <package name="twitter-bootstrap">
                <javascripts>
                    <script>js/libs/jquery-1.6.4.js</script>
                    <script>js/libs/jquery-ui-1.8.13.js</script>
                    <script>js/libs/jquery-tablesorter-2.0.5.js</script>
                    <script>js/libs/bootstrap/bootstrap-twipsy.js</script>
                    <script>js/libs/bootstrap/bootstrap-alerts.js</script>
                    <script>js/libs/bootstrap/bootstrap-buttons.js</script>
                    <script>js/libs/bootstrap/bootstrap-dropdown.js</script>
                    <script>js/libs/bootstrap/bootstrap-modal.js</script>
                    <script>js/libs/bootstrap/bootstrap-popover.js</script>
                    <script>js/libs/bootstrap/bootstrap-scrollspy.js</script>
                    <script>js/libs/bootstrap/bootstrap-tabs.js</script>
                </javascripts>
                <stylesheets>
                    <script>css/bootstrap.css</script>
                    <script>css/jquery-ui.1.8.13.custom.css</script>
                </stylesheets>
            </package>

            <package name="midas.core">
                <javascripts>
                    <script>js/midas/core/core.js</script>
                    <script>js/midas/core/Module.js</script>
                    <script>js/midas/core/BaseObject.js</script>
                    <script>js/midas/core/CidSequence.js</script>
                    <script>js/midas/core/Behaviour.js</script>
                    <script>js/midas/core/Routing.js</script>
                    <script>js/midas/core/BaseController.js</script>
                    <script>js/midas/core/BaseView.js</script>
                    <script>js/midas/core/CommandTriggerList.js</script>
                </javascripts>
            </package>

            <package name="flotr" depends="midas.core">
                <javascripts>
                    <script>js/libs/flotr2.js</script>
                </javascripts>
                <stylesheets>
                    <script>css/RGraph/common.css</script>
                </stylesheets>
            </package>

            <package name="midas.items.edit" depends="midas.core jquery-ui">
                <javascripts>
                    <script>js/midas/items/items.js</script>
                    <script>js/midas/items/edit/SlidePanel.js</script>
                    <script>js/midas/items/edit/Input.js</script>
                    <script>js/midas/items/edit/DateInput.js</script>
                    <script>js/midas/items/edit/TagInput.js</script>
                    <script>js/midas/items/edit/UrlInput.js</script>
                    <script>js/midas/items/edit/AssistiveTextInput.js</script>
                    <script>js/midas/items/edit/EditForm.js</script>
                    <script>js/midas/items/edit/ContentItemsList.js</script>
                    <script>js/midas/items/edit/AssetList.js</script>
                    <script>js/midas/items/edit/ImportItemContainer.js</script>
                    <script>js/midas/items/edit/EditService.js</script>
                    <script>js/midas/items/edit/EditView.js</script>
                    <script>js/midas/items/edit/EditController.js</script>
                </javascripts>
                <stylesheets>
                    <script>css/reset.css</script>
                    <script>css/screen.css</script>
                    <script>css/edit_buttons.css</script>
                </stylesheets>
            </package>
        </packages>

        <deployments>
            <!--
                This is the default deployment of our core stuff,
                that we want available on all views, except two special cases:
                1. As the workflow is not allowed to define any layout/gui specific stuff,
                it is always excluded from the default deployment.
                2. The items edit-view has not yet been switched to be compatible with twitter-bootstrap,
                so it's excluded until this has been fixed.
            -->
            <deployment viewpath="^(?:(?!items.edit*|workflow.run.success*))*$">
                <package ref="twitter-bootstrap" />
            </deployment>

            <deployment viewpath="items.list*">
                <package ref="midas.core" />

                <javascripts>
                    <script>js/midas/items/items.js</script>
                    <script>js/midas/items/list/SearchBox.js</script>
                    <script>js/midas/items/list/ListView.js</script>
                    <script>js/midas/items/list/init.js</script>
                </javascripts>
                <stylesheets>
                    <script>css/iconic_fill.css</script>
                    <script>css/list.css</script>
                </stylesheets>
            </deployment>

            <deployment viewpath="items.edit*">
                <package ref="midas.items.edit" />

                <javascripts>
                    <script>js/midas/items/edit/init.js</script>
                </javascripts>
            </deployment>

            <deployment viewpath="default.index*">
                <stylesheets>
                    <script>css/dashboard.css</script>
                </stylesheets>
            </deployment>

            <deployment viewpath="items.stats*">
                <package ref="flotr" />

                <javascripts>
                    <script>js/midas/items/items.js</script>
                    <script>js/midas/items/stats/StatsView.js</script>
                    <script>js/midas/items/stats/init.js</script>
                </javascripts>
                <stylesheets>
                    <script>css/stats.css</script>
                </stylesheets>
            </deployment>
        </deployments>

    </ae:configuration>
</ae:configurations>