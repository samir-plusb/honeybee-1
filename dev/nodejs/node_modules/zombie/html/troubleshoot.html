<!DOCTYPE html>
<html>
  <head>
    <title>Troubleshooting guide</title>
    <link href="css/screen.css" media="screen,projection" rel="stylesheet" type="text/css">
    <link href="css/print.css" media="print" rel="stylesheet" type="text/css">
  </head>
  <body>
    <div id="header">
      <div class="title"><a href="/">Zombie.js</a></div>
    </div>
    <div id="sidebar">
      <ul class="navigation">
        <li><a href="/">Getting Started</a></li>
        <li><a href="api.html">The API</a></li>
        <li><a href="selectors.html">CSS Selectors</a></li>
        <li><a href="troubleshoot.html">Troubleshooting</a></li>
        <li><a href="guts.html">The Guts</a></li>
        <li><a href="zombie.pdf">Download PDF</a></li>
        <li>&nbsp;</li>
        <li><a href="https://groups.google.com/forum/?hl=en#!forum/zombie-js">Google Group</a></li>
        <li><a href="irc://irc.freenode.net/zombie.js">IRC: #zombie.js</a></li>
        <li><a href="https://github.com/assaf/zombie">Github/Issues</a></li>
        <li><a href="changelog.html">Changelog</a></li>
        <li><a href="source/">Annotated Source</a></li>
        <li><a href="http://travis-ci.org/assaf/zombie"><img src="http://travis-ci.org/assaf/zombie.png"></a></li>
      </ul>
      <div class="donate">
        <form action="https://www.paypal.com/cgi-bin/webscr" method="post">
          <input type="hidden" name="cmd" value="_s-xclick">
          <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
          ">
          <input type="image" src="https://www.paypal.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
          <img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1">
        </form>
        More Magic!
      </div>
    </div>
    <div id="content">
      <h1>Troubleshooting guide</h1>
      <html><h2 id="The-Dump">The Dump</h2><p>Get the browser to dump its current state.  You'll be able to see the
current document URL, history, cookies, local/session storage, and
portion of the current page:</p><pre><code>browser.dump()

URL: http://localhost:3003/here/#there

History:
  1. http://localhost:3003/here
  2: http://localhost:3003/here/#there

Cookies:
  session=e62ab205; domain=localhost; path=/here

Storage:
  localhost:3003 session:
    day = Monday

Document:
  &lt;html&gt;
    &lt;head&gt;
      &lt;script src="/jquery.js"&gt;&lt;/script&gt;
      &lt;script src="/sammy.js"&gt;&lt;/script&gt;
      &lt;script src="/app.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
    &lt;body&gt;
    ...</code></pre><p>The actual report will have much more information.</p><h2 id="Debugging">Debugging</h2><p>When running in debug mode, Zombie.js will spit out messages to the
console.  These could help you see what's going on as your tests
execute, especially useful around stuff that happens in the background,
like XHR requests.</p><p>To turn debugging on/off set <code>browser.debug</code> to true/false.  You can
also set this option when creating a new <code>Browser</code> object (the
constructor takes an options argument), or for the duration of a single
call to <code>visit</code> (the second argument being the options).</p><p>For example:</p><pre><code>zombie.visit("http://thedead", { debug: true}, function(err, browser) {
  if (err)
    throw(err.message);
  ... 
});</code></pre><p>If you're working on the code and you want to add more debug statements,
call <code>browser.log</code> with any sequence of arguments (same as
<code>console.log</code>), or with a function.  In the later case, it will call the
function only when debugging is turned on, and spit the value returned
from the console.</p><p>For example:</p><pre><code>browser.log("Currently visiting", browser.location);
browser.log(function() {
  return "Currently visiting " + browser.location;
});</code></pre><h2 id="Request-response">Request/response</h2><p>Each window keeps a trail of every resource request it makes (to load
the page itself, scripts, XHR requests, etc).  You can inspect these by
obtaining the <code>window.resources</code> array and looking into it.</p><p>For example:</p><pre><code>window.resources.dump()</code></pre><p>The browser object provides the convenient methods <code>lastRequest</code>,
<code>lastResponse</code> and <code>lastError</code> that return, respectively, the request,
response and error associated with the last resources loaded by the
current window.</p></html>

    </div>
    <div id="footer">
      Zombie.js brought to you by <a href="https://github.com/assaf/zombie/contributors">very alive people</a>.
    </div>
    <script type="text/javascript">
      var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-1828623-10']);_gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
