<!DOCTYPE html>  <html> <head>   <title>browser.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="index.html">                 index.coffee               </a>                                           <a class="source" href="bcat.html">                 bcat.coffee               </a>                                           <a class="source" href="browser.html">                 browser.coffee               </a>                                           <a class="source" href="cache.html">                 cache.coffee               </a>                                           <a class="source" href="cookies.html">                 cookies.coffee               </a>                                           <a class="source" href="eventloop.html">                 eventloop.coffee               </a>                                           <a class="source" href="forms.html">                 forms.coffee               </a>                                           <a class="source" href="history.html">                 history.coffee               </a>                                           <a class="source" href="index.html">                 index.coffee               </a>                                           <a class="source" href="interact.html">                 interact.coffee               </a>                                           <a class="source" href="jsdom_patches.html">                 jsdom_patches.coffee               </a>                                           <a class="source" href="protocol.html">                 protocol.coffee               </a>                                           <a class="source" href="resources.html">                 resources.coffee               </a>                                           <a class="source" href="storage.html">                 storage.coffee               </a>                                           <a class="source" href="websocket.html">                 websocket.coffee               </a>                                           <a class="source" href="xhr.html">                 xhr.coffee               </a>                                           <a class="source" href="xpath.html">                 xpath.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               browser.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Use the browser to open up new windows and load documents.</p>

<p>The browser maintains state for cookies and localStorage.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Make sure we don't blow up Node when we get a JS error, but dump error to
console. Ignore if there's any other error handler.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <h2>Options</h2>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <h3>debug</h3>

<p>True to have Zombie report what it's doing.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <h3>htmlParser</h3>

<p>Which parser to use (null for default). For example:
  zombie.htmlParser = require("html5").HTML5</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <h3>loadCSS</h3>

<p>True to load external stylesheets.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <h3>runScripts</h3>

<p>Run scripts included in or loaded from the page. Defaults to true.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <h3>userAgent</h3>

<p>User agent string sent to server.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <h3>withOptions(options, fn)</h3>

<p>Changes the browser options, and calls the function with a
callback (reset).  When you're done processing, call the reset
function to bring options back to their previous values.</p>

<p>See <code>visit</code> if you want to see this method in action.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Sets the browser options.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <h3>browser.fork() => Browser</h3>

<p>Return a new browser with a snapshot of this browser's state.
Any changes to the forked browser's state do not affect this browser.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <h2>Windows</h2>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <h3>browser.open() => Window</h3>

<p>Open new browser window.  Takes a single argument that determines
which features are supported by this Window.  At the moment all
features are undocumented, use at your own peril.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Add context for evaluating scripts.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Evaulate in context of window. This can be called with a script (String)
or a function.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Switch to the newly created window if it's interactive.
Examples of non-interactive windows are frames.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>Present in browsers, not in spec
Used by Google Analytics
see https://developer.mozilla.org/en/DOM/window.navigator.javaEnabled</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>Default onerror handler.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <h2>Events</h2>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <h3>browser.wait(callback?)</h3>

<h3>browser.wait(terminator, callback)</h3>

<p>Process all events from the queue. This method returns immediately, events
are processed in the background. When all events are exhausted, it calls
the callback with <code>null, browser</code>; if any event fails, it calls the
callback with the exception.</p>

<p>With one argument, that argument is the callback. With two arguments, the
first argument is a terminator and the last argument is the callback. The
terminator is one of:</p>

<ul>
<li>null -- process all events</li>
<li>number -- process that number of events</li>
<li>function -- called after each event, stop processing when function
returns false</li>
</ul>

<p>You can call this method with no arguments and simply listen to the <code>done</code>
and <code>error</code> events.</p>

<p>Events include timeout, interval and XHR <code>onreadystatechange</code>. DOM events
are handled synchronously.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <h3>browser.fire(name, target, callback?)</h3>

<p>Fire a DOM event.  You can use this to simulate a DOM event, e.g. clicking a
link.  These events will bubble up and can be cancelled.  With a callback, this
method will call <code>wait</code>.</p>

<ul>
<li>name -- Even name (e.g <code>click</code>)</li>
<li>target -- Target element (e.g a link)</li>
<li>callback -- Wait for events to be processed, then call me (optional)</li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <h3>browser.clock => Number</h3>

<p>The current system time according to the browser (see also
<code>browser.clock</code>).</p>

<p>You can change this to advance the system clock during tests.  It will
also advance when handling timeout/interval events.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <h3>browser.now => Date</h3>

<p>The current system time according to the browser (see also
<code>browser.clock</code>).</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <h2>Accessors</h2>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <h3>browser.querySelector(selector) => Element</h3>

<p>Select a single element (first match) and return it.</p>

<ul>
<li>selector -- CSS selector</li>
</ul>

<p>Returns an Element or null</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <h3>browser.querySelectorAll(selector) => NodeList</h3>

<p>Select multiple elements and return a static node list.</p>

<ul>
<li>selector -- CSS selector</li>
</ul>

<p>Returns a NodeList or null</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <h3>browser.text(selector, context?) => String</h3>

<p>Returns the text contents of the selected elements.</p>

<ul>
<li>selector -- CSS selector (if missing, entire document)</li>
<li>context -- Context element (if missing, uses document)</li>
</ul>

<p>Returns a string</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <h3>browser.html(selector?, context?) => String</h3>

<p>Returns the HTML contents of the selected elements.</p>

<ul>
<li>selector -- CSS selector (if missing, entire document)</li>
<li>context -- Context element (if missing, uses document)</li>
</ul>

<p>Returns a string</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <h3>browser.css(selector, context?) => NodeList</h3>

<p>Evaluates the CSS selector against the document (or context node) and
return a node list.  Shortcut for <code>document.querySelectorAll</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <h3>browser.xpath(expression, context?) => XPathResult</h3>

<p>Evaluates the XPath expression against the document (or context node) and
return the XPath result.  Shortcut for <code>document.evaluate</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <h3>browser.window => Window</h3>

<p>Returns the main window.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <h3>browser.document => Document</h3>

<p>Returns the main window's document. Only valid after opening a document
(see <code>browser.open</code>).</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <h3>browser.body => Element</h3>

<p>Returns the body Element of the current document.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>               <h3>browser.statusCode => Number</h3>

<p>Returns the status code of the request for loading the window.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>               <h3>browser.redirected => Boolean</h3>

<p>Returns true if the request for loading the window followed a
redirect.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>               <h3>source => String</h3>

<p>Returns the unmodified source of the document loaded by the browser</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-38">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-38">&#182;</a>               </div>               <h3>browser.cache => Cache</h3>

<p>Returns the browser's cache.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-39">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-39">&#182;</a>               </div>               <h2>Navigation</h2>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-40">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-40">&#182;</a>               </div>               <h3>browser.visit(url, callback?)</h3>

<h3>browser.visit(url, options, callback)</h3>

<p>Loads document from the specified URL, processes events and calls the
callback.  If the second argument are options, uses these options
for the duration of the request and resets the options afterwards.</p>

<p>If it fails to download, calls the callback with the error.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-41">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-41">&#182;</a>               </div>               <h3>browser.location => Location</h3>

<p>Return the location of the current document (same as <code>window.location</code>).</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-42">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-42">&#182;</a>               </div>               <h3>browser.location = url</h3>

<p>Changes document location, loads new document if necessary (same as
setting <code>window.location</code>).</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-43">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-43">&#182;</a>               </div>               <h3>browser.link(selector) : Element</h3>

<p>Finds and returns a link by its text content or selector.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-44">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-44">&#182;</a>               </div>               <h3>browser.clickLink(selector, callback)</h3>

<p>Clicks on a link. Clicking on a link can trigger other events, load new
page, etc: use a callback to be notified of completion.  Finds link by
text content or selector.</p>

<ul>
<li>selector -- CSS selector or link text</li>
<li>callback -- Called with two arguments: error and browser</li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-45">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-45">&#182;</a>               </div>               <h3>browser.saveHistory() => String</h3>

<p>Save history to a text string.  You can use this to load the data
later on using <code>browser.loadHistory</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-46">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-46">&#182;</a>               </div>               <h3>browser.loadHistory(String)</h3>

<p>Load history from a text string (e.g. previously created using
<code>browser.saveHistory</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-47">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-47">&#182;</a>               </div>               <h2>Forms</h2>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-48">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-48">&#182;</a>               </div>               <h3>browser.field(selector) : Element</h3>

<p>Find and return an input field (<code>INPUT</code>, <code>TEXTAREA</code> or <code>SELECT</code>) based on
a CSS selector, field name (its <code>name</code> attribute) or the text value of a
label associated with that field (case sensitive, but ignores
leading/trailing spaces).</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-49">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-49">&#182;</a>               </div>               <p>If the field has already been queried, return itself</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-50">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-50">&#182;</a>               </div>               <p>Try more specific selector first.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-51">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-51">&#182;</a>               </div>               <p>Use field name (case sensitive).</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-52">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-52">&#182;</a>               </div>               <p>Try finding field from label.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-53">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-53">&#182;</a>               </div>               <p>Label can either reference field or enclose it</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-54">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-54">&#182;</a>               </div>               <p>HTML5 field types that you can "fill in".</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-55">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-55">&#182;</a>               </div>               <h3>browser.fill(selector, value) => this</h3>

<p>Fill in a field: input field or text area.</p>

<ul>
<li>selector -- CSS selector, field name or text of the field label</li>
<li>value -- Field value</li>
</ul>

<p>Returns this</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-56">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-56">&#182;</a>               </div>               <h3>browser.check(selector) => this</h3>

<p>Checks a checkbox.</p>

<ul>
<li>selector -- CSS selector, field name or text of the field label</li>
</ul>

<p>Returns this</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-57">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-57">&#182;</a>               </div>               <h3>browser.uncheck(selector) => this</h3>

<p>Unchecks a checkbox.</p>

<ul>
<li>selector -- CSS selector, field name or text of the field label</li>
</ul>

<p>Returns this</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-58">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-58">&#182;</a>               </div>               <h3>browser.choose(selector) => this</h3>

<p>Selects a radio box option.</p>

<ul>
<li>selector -- CSS selector, field value or text of the field label</li>
</ul>

<p>Returns this</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-59">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-59">&#182;</a>               </div>               <h3>browser.attach(selector, filename) => this</h3>

<p>Attaches a file to the specified input field.  The second argument is the
file name.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-60">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-60">&#182;</a>               </div>               <h3>browser.select(selector, value) => this</h3>

<p>Selects an option.</p>

<ul>
<li>selector -- CSS selector, field name or text of the field label</li>
<li>value -- Value (or label) or option to select</li>
</ul>

<p>Returns this</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-61">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-61">&#182;</a>               </div>               <h3>browser.selectOption(option) => this</h3>

<p>Selects an option.</p>

<ul>
<li>option -- option to select</li>
</ul>

<p>Returns this</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-62">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-62">&#182;</a>               </div>               <h3>browser.unselect(selector, value) => this</h3>

<p>Unselects an option.</p>

<ul>
<li>selector -- CSS selector, field name or text of the field label</li>
<li>value -- Value (or label) or option to unselect</li>
</ul>

<p>Returns this</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-63">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-63">&#182;</a>               </div>               <h3>browser.unselectOption(option) => this</h3>

<p>Unselects an option.</p>

<ul>
<li>option -- option to unselect</li>
</ul>

<p>Returns this</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-64">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-64">&#182;</a>               </div>               <h3>browser.button(selector) : Element</h3>

<p>Finds a button using CSS selector, button name or button text (<code>BUTTON</code> or
<code>INPUT</code> element).</p>

<ul>
<li>selector -- CSS selector, button name or text of BUTTON element</li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-65">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-65">&#182;</a>               </div>               <h3>browser.pressButton(selector, callback)</h3>

<p>Press a button (button element or input of type <code>submit</code>).  Typically
this will submit the form.  Use the callback to wait for the from
submission, page to load and all events run their course.</p>

<ul>
<li>selector -- CSS selector, button name or text of BUTTON element</li>
<li>callback -- Called with two arguments: error and browser</li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-66">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-66">&#182;</a>               </div>               <h2>Cookies and storage</h2>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-67">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-67">&#182;</a>               </div>               <h3>browser.cookies(domain, path) => Cookies</h3>

<p>Returns all the cookies for this domain/path. Path defaults to "/".</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-68">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-68">&#182;</a>               </div>               <h3>browser.saveCookies() => String</h3>

<p>Save cookies to a text string.  You can use this to load them back
later on using <code>browser.loadCookies</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-69">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-69">&#182;</a>               </div>               <h3>browser.loadCookies(String)</h3>

<p>Load cookies from a text string (e.g. previously created using
<code>browser.saveCookies</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-70">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-70">&#182;</a>               </div>               <h3>brower.localStorage(host) => Storage</h3>

<p>Returns local Storage based on the document origin (hostname/port). This
is the same storage area you can access from any document of that origin.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-71">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-71">&#182;</a>               </div>               <h3>brower.sessionStorage(host) => Storage</h3>

<p>Returns session Storage based on the document origin (hostname/port). This
is the same storage area you can access from any document of that origin.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-72">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-72">&#182;</a>               </div>               <h3>browser.saveStorage() => String</h3>

<p>Save local/session storage to a text string.  You can use this to
load the data later on using <code>browser.loadStorage</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-73">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-73">&#182;</a>               </div>               <h3>browser.loadStorage(String)</h3>

<p>Load local/session stroage from a text string (e.g. previously
created using <code>browser.saveStorage</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-74">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-74">&#182;</a>               </div>               <h2>Scripts</h2>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-75">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-75">&#182;</a>               </div>               <h3>browser.evaluate(function) : Object</h3>

<h3>browser.evaluate(code, filename) : Object</h3>

<p>Evaluates a JavaScript expression in the context of the current window
and returns the result.  When evaluating external script, also include
filename.</p>

<p>You can also use this to evaluate a function in the context of the
window: for timers and asynchronous callbacks (e.g. XHR).</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-76">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-76">&#182;</a>               </div>               <h2>Interaction</h2>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-77">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-77">&#182;</a>               </div>               <h3>browser.onalert(fn)</h3>

<p>Called by <code>window.alert</code> with the message.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-78">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-78">&#182;</a>               </div>               <h3>browser.onconfirm(question, response)</h3>

<h3>browser.onconfirm(fn)</h3>

<p>The first form specifies a canned response to return when
<code>window.confirm</code> is called with that question.  The second form
will call the function with the question and use the respone of
the first function to return a value (true or false).</p>

<p>The response to the question can be true or false, so all canned
responses are converted to either value.  If no response
available, returns false.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-79">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-79">&#182;</a>               </div>               <h3>browser.onprompt(message, response)</h3>

<h3>browser.onprompt(fn)</h3>

<p>The first form specifies a canned response to return when
<code>window.prompt</code> is called with that message.  The second form will
call the function with the message and default value and use the
response of the first function to return a value or false.</p>

<p>The response to a prompt can be any value (converted to a string),
false to indicate the user cancelled the prompt (returning null),
or nothing to have the prompt return the default value or an empty
string.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-80">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-80">&#182;</a>               </div>               <h3>browser.prompted(message) => boolean</h3>

<p>Returns true if user was prompted with that message
(<code>window.alert</code>, <code>window.confirm</code> or <code>window.prompt</code>)</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-81">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-81">&#182;</a>               </div>               <h2>Debugging</h2>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-82">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-82">&#182;</a>               </div>               <h3>browser.viewInBrowser(name?)</h3>

<p>Views the current document in a real Web browser.  Uses the default
system browser on OS X, BSD and Linux.  Probably errors on Windows.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-83">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-83">&#182;</a>               </div>               <h3>browser.lastRequest => HTTPRequest</h3>

<p>Returns the last request sent by this browser. The object will have the
properties url, method, headers, and body.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-84">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-84">&#182;</a>               </div>               <h3>browser.lastResponse => HTTPResponse</h3>

<p>Returns the last response received by this browser. The object will have the
properties url, status, headers and body. Long bodies may be truncated.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-85">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-85">&#182;</a>               </div>               <h3>browser.lastError => Object</h3>

<p>Returns the last error received by this browser in lieu of response.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-86">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-86">&#182;</a>               </div>               <p>Zombie can spit out messages to help you figure out what's going
on as your code executes.</p>

<p>To spit a message to the console when running in debug mode, call
this method with one or more values (same as <code>console.log</code>).  You
can also call it with a function that will be evaluated only when
running in debug mode.</p>

<p>For example:
    browser.log("Opening page:", url);
    browser.log(function() { return "Opening page: " + url });</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-87">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-87">&#182;</a>               </div>               <p>Dump information to the consolt: Zombie version, current URL,
history, cookies, event loop, etc.  Useful for debugging and
submitting error reports.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-88">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-88">&#182;</a>               </div>               <p>Always start with an open window.</p>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                               <tr id="section-89">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-89">&#182;</a>               </div>               <h3>zombie.version : String</h3>             </td>             <td class="code">               <div class="highlight"><pre>undefined</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 